import{o as i,c as o,d as t,t as h,u as y,l as u,_ as f,r as g,m as p,F as v,i as b,n as x,e as c,p as G,j as k}from"./index-63a9702b.js";import{P as B}from"./ProfileDetails-c7a4001a.js";const I={key:0},S=t("p",{class:"m-0"},"You can collect your reward here",-1),w=["disabled"],T={__name:"RewardsButton",props:{amount:{type:Number,required:!0}},setup(e){const a=e;let l=!1;async function d(){if(l){alert("You have already collected your reward!");return}let s=a.amount;fetch("/api/operations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:s})}).then(n=>{n.ok&&(alert("You have collected your reward!"),l=!0)})}return(s,n)=>e.amount>0?(i(),o("div",I,[S,t("button",{onClick:d,class:"btn btn-success",disabled:y(l)},"Collect ("+h(e.amount)+" pts.)",9,w)])):u("",!0)}},O="/assets/Gappy-04bae949.png";const j={components:{RewardsButton:T},data(){return{birdTop:200,birdVelocity:0,gravity:.5,pipes:[],gameOver:!1,points:0,gameStarted:!1,gameLoop:null,pipeInterval:null}},methods:{startGame(){this.gameStarted=!0,this.gameOver=!1,this.birdTop=200,this.birdVelocity=0,this.pipes=[{left:500,top:0,height:200}],this.points=0,this.gameLoop=setInterval(this.updatePosition,20),this.pipeInterval=setInterval(this.addPipe,2e3)},jump(){this.birdVelocity=-8},updatePosition(){this.birdVelocity+=this.gravity,this.birdTop+=this.birdVelocity,this.pipes.forEach(e=>{e.left-=2,this.birdTop+20>e.top&&this.birdTop<e.top+e.height&&e.left<70&&e.left+50>30&&(this.gameOver=!0,this.endGame()),e.left===30&&this.points++}),(this.birdTop>=390||this.birdTop<=0)&&(this.gameOver=!0,this.endGame())},addPipe(){let e=Math.random()*100+100;this.pipes.push({left:500,top:0,height:e}),this.pipes.push({left:500,top:e+100,height:400-e})},endGame(){clearInterval(this.gameLoop),clearInterval(this.pipeInterval)}},mounted(){}},C=e=>(G("data-v-a9426da7"),e=e(),k(),e),V={class:"d-flex flex-column justify-content-center align-items-center",style:{"min-height":"500px"}},P={key:0,style:{display:"flex","justify-content":"center","align-items":"center","min-height":"500px"}},$={key:1},z=C(()=>t("img",{src:O,style:{width:"100%",height:"100%"}},null,-1)),N=[z],L={key:0,style:{"font-size":"xx-large","text-align":"center"}};function R(e,a,l,d,s,n){const m=g("RewardsButton");return i(),o("div",V,[s.gameStarted?(i(),o("div",$,[t("div",{style:{display:"flex","justify-content":"center","align-items":"center"},id:"game",onClick:a[1]||(a[1]=(...r)=>n.jump&&n.jump(...r)),class:x({"game-over":s.gameOver})},[t("div",{class:"bird",style:p({top:`${s.birdTop}px`})},N,4),(i(!0),o(v,null,b(s.pipes,(r,_)=>(i(),o("div",{class:"pipe",key:_,style:p({left:`${r.left}px`,top:`${r.top}px`,height:`${r.height}px`})},null,4))),128))],2),s.gameOver?(i(),o("div",L,[t("p",null,"Game Over! Your score is: "+h(s.points),1),c(m,{amount:s.points},null,8,["amount"])])):u("",!0)])):(i(),o("div",P,[t("button",{class:"btn btn-success",onClick:a[0]||(a[0]=(...r)=>n.startGame&&n.startGame(...r))},"Start Game")]))])}const Y=f(j,[["render",R],["__scopeId","data-v-a9426da7"]]);const D=t("h2",null,"Game: Quizzes",-1),E=t("hr",null,null,-1),F={class:"row"},q={class:"col-8"},J={class:"col-4 border"},A={__name:"BirdGame",setup(e){return(a,l)=>(i(),o("div",null,[D,E,t("div",F,[t("div",q,[c(Y,{class:"border",style:{"min-height":"500px"}})]),t("div",J,[c(B)])])]))}};export{A as default};
